{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport React, { useState } from 'react';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport testImage from \"../assets/favicon.png\";\nimport DealCart from \"../components/DealCart\";\nimport SearchBottom from \"../components/SearchBottom\";\nimport SearchDeals from \"./SearchDeals\";\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport SearchHotel from \"./SearchHotel\";\nvar window = Dimensions.get('window');\nvar Tab = createBottomTabNavigator();\nimport { useSelector, useDispatch } from 'react-redux';\nimport Brands from \"../components/Brands\";\nimport SmallDealCart from \"../components/SmallDealCart\";\nimport { setRecentSearch } from \"../action\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var storeData = function storeData(key, value) {\n  var jsonValue;\n  return _regeneratorRuntime.async(function storeData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          jsonValue = JSON.stringify(value);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(key, jsonValue));\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('Error: Search.js->' + _context.t0.message);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\nexport var getData = function getData(key) {\n  var jsonValue;\n  return _regeneratorRuntime.async(function getData$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(key));\n\n        case 3:\n          jsonValue = _context2.sent;\n          return _context2.abrupt(\"return\", jsonValue != null ? JSON.parse(jsonValue) : null);\n\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log('Error: Search.js->' + _context2.t0.message);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\n\nvar Search = function Search(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState('Type'),\n      _useState2 = _slicedToArray(_useState, 2),\n      SearchParam = _useState2[0],\n      setSearchParams = _useState2[1];\n\n  return SearchParam != 'Type' ? _jsxs(Tab.Navigator, {\n    tabBar: function tabBar(props) {\n      return _jsx(SearchBottom, _objectSpread({}, props));\n    },\n    children: [_jsx(Tab.Screen, {\n      options: {\n        headerShown: false\n      },\n      name: \"SearchHotel\",\n      component: SearchHotel\n    }), _jsx(Tab.Screen, {\n      options: {\n        headerShown: false\n      },\n      name: \"SearchDeal\",\n      component: SearchDeals\n    })]\n  }) : _jsx(Hotels, {\n    SearchParam: SearchParam,\n    setSearchParams: setSearchParams,\n    navigation: navigation\n  });\n};\n\nexport default Search;\n\nvar Hotels = function Hotels(props) {\n  var recent = useSelector(function (state) {\n    return state.recentSearch;\n  });\n  var brands = useSelector(function (state) {\n    return state.brands;\n  });\n  var deals = useSelector(function (state) {\n    return state.deals;\n  });\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      search = _React$useState2[0],\n      setSearch = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      data = _React$useState4[0],\n      setData = _React$useState4[1];\n\n  React.useEffect(function () {\n    getData('search').then(function (data) {\n      if (Array.isArray(data)) {\n        setData(data);\n      } else {\n        setData([]);\n      }\n    });\n  }, []);\n  return _jsxs(ScrollView, {\n    children: [_jsxs(View, {\n      style: {\n        backgroundColor: \"#FA454B\",\n        width: '100%',\n        minHeight: 100,\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: Platform.OS == 'ios' ? 40 : 0\n      },\n      children: [_jsxs(View, {\n        style: {\n          width: '90%',\n          backgroundColor: 'white',\n          height: 50,\n          borderRadius: 50,\n          flexDirection: 'row',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: [_jsx(TextInput, {\n          value: search,\n          onChangeText: setSearch,\n          style: {\n            flex: 5,\n            paddingLeft: 20\n          },\n          placeholder: \"Search\",\n          placeholderTextColor: 'rgb(130,130,130)'\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            var get = getData('search').then(function (data) {\n              if (data) {\n                var arr = data;\n                arr.push(search);\n                storeData('search', arr).catch(function (err) {\n                  console.log('Error: Search.js->' + err.message);\n                });\n              } else {\n                var _arr = [];\n\n                _arr.push(search);\n\n                storeData('search', _arr).catch(function (err) {\n                  console.log('Error: Search.js->' + err.message);\n                });\n              }\n            });\n\n            if (props.SearchParam === 'Hotels') {\n              props.setSearchParams('Deals');\n            } else {\n              props.setSearchParams('Hotels');\n            }\n          },\n          style: {\n            flex: 2,\n            backgroundColor: 'rgb(220,220,220)',\n            height: '100%',\n            borderTopRightRadius: 30,\n            borderBottomRightRadius: 30,\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'rgb(130,130,130)'\n            },\n            children: props.SearchParam\n          })\n        })]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          props.navigation.goBack();\n        },\n        style: {\n          width: '10%',\n          alignItems: 'flex-end'\n        },\n        children: _jsx(MaterialIcons, {\n          name: \"close\",\n          size: 24,\n          color: \"white\"\n        })\n      })]\n    }), _jsx(View, {\n      style: {\n        paddingLeft: 20,\n        paddingRight: 20,\n        paddingTop: 20,\n        paddingBottom: 10\n      },\n      children: _jsx(Text, {\n        style: {\n          fontWeight: 'bold',\n          fontSize: 18\n        },\n        children: \"Recent\"\n      })\n    }), _jsx(View, {\n      style: {\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n        paddingLeft: 10,\n        paddingRight: 10\n      },\n      children: data ? data.slice(Math.max(data.length - 7, 0)).map(function (doc, i) {\n        return _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            setSearch(doc);\n          },\n          style: {\n            borderColor: 'rgb(200,200,200)',\n            borderWidth: 1,\n            paddingLeft: 20,\n            paddingRight: 20,\n            paddingTop: 10,\n            paddingBottom: 10,\n            borderRadius: 20,\n            margin: 3.5\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'rgb(130,130,130)'\n            },\n            children: doc\n          })\n        }, i);\n      }) : _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FA454B\"\n      })\n    }), _jsxs(LinearGradient, {\n      style: {\n        width: '100%',\n        marginTop: 15,\n        flexDirection: 'column'\n      },\n      colors: ['#E00006', '#FB8B97'],\n      start: [0, 1],\n      end: [1, 0],\n      children: [_jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          paddingLeft: 20,\n          paddingTop: 20,\n          paddingBottom: 8\n        },\n        children: _jsxs(View, {\n          children: [_jsx(Text, {\n            style: {\n              color: 'white',\n              fontSize: 18,\n              fontWeight: 'bold'\n            },\n            children: \"Save on top brands\"\n          }), _jsx(Text, {\n            style: {\n              color: 'white',\n              marginTop: 5\n            },\n            children: \"Save big on most popular brands with us\"\n          })]\n        })\n      }), _jsxs(ScrollView, {\n        style: {\n          flex: 3,\n          marginBottom: 10\n        },\n        horizontal: true,\n        children: [_jsx(View, {\n          style: {\n            width: 10\n          }\n        }), brands ? brands.map(function (brand) {\n          return _jsx(Brands, {\n            data: brand,\n            img: brand.image\n          }, brand.id);\n        }) : _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#FA454B\"\n        })]\n      })]\n    }), _jsxs(View, {\n      children: [_jsx(Text, {\n        style: {\n          fontWeight: 'bold',\n          fontSize: 18,\n          marginTop: 20,\n          marginBottom: 10,\n          marginLeft: 20,\n          marginRight: 20\n        },\n        children: \"Your Deals\"\n      }), _jsxs(ScrollView, {\n        horizontal: true,\n        children: [_jsx(View, {\n          style: {\n            width: 10\n          }\n        }), deals ? deals.map(function (d) {\n          return _jsx(SmallDealCart, {\n            icon: d.brand.image,\n            img: d.deal.image,\n            title: d.deal.name\n          }, d.deal.id);\n        }) : _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#FA454B\"\n        })]\n      })]\n    })]\n  });\n};","map":{"version":3,"sources":["C:/Users/takia/OneDrive/Desktop/Data/Projects/mobile_app/mobile_app/Handoff/screens/Search.js"],"names":["React","useState","MaterialIcons","LinearGradient","testImage","DealCart","SearchBottom","SearchDeals","createBottomTabNavigator","SearchHotel","window","Dimensions","get","Tab","useSelector","useDispatch","Brands","SmallDealCart","setRecentSearch","AsyncStorage","storeData","key","value","jsonValue","JSON","stringify","setItem","console","log","message","getData","getItem","parse","Search","navigation","SearchParam","setSearchParams","props","headerShown","Hotels","recent","state","recentSearch","brands","deals","search","setSearch","data","setData","useEffect","then","Array","isArray","backgroundColor","width","minHeight","justifyContent","flexDirection","alignItems","paddingLeft","paddingRight","paddingTop","Platform","OS","height","borderRadius","flex","arr","push","catch","err","borderTopRightRadius","borderBottomRightRadius","color","goBack","paddingBottom","fontWeight","fontSize","flexWrap","slice","Math","max","length","map","doc","i","borderColor","borderWidth","margin","marginTop","marginBottom","brand","image","id","marginLeft","marginRight","d","deal","name"],"mappings":"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","sourcesContent":["import {\r\n  Image, ScrollView, StyleSheet, Text, TextInput,\r\n  TouchableOpacity, View, Platform, Dimensions, ActivityIndicator\r\n} from 'react-native'\r\nimport React, { useState } from 'react'\r\nimport { MaterialIcons } from '@expo/vector-icons'\r\nimport { LinearGradient } from 'expo-linear-gradient'\r\nimport testImage from '../assets/favicon.png';\r\nimport DealCart from '../components/DealCart';\r\nimport SearchBottom from '../components/SearchBottom';\r\n// import ActionSheet from '../components/ActionSheet';\r\nimport SearchDeals from './SearchDeals';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs'\r\nimport SearchHotel from './SearchHotel';\r\n\r\nconst window = Dimensions.get('window')\r\nconst Tab = createBottomTabNavigator();\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Brands from '../components/Brands';\r\nimport SmallDealCart from '../components/SmallDealCart';\r\nimport { setRecentSearch } from '../action';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nexport const storeData = async (key,value) => {\r\n  try {\r\n    const jsonValue = JSON.stringify(value)\r\n    await AsyncStorage.setItem(key, jsonValue)\r\n  } catch (e) {\r\n    // saving error\r\n    console.log('Error: Search.js->'+e.message)\r\n  }\r\n}\r\n\r\nexport const getData = async (key) => {\r\ntry {\r\n  const jsonValue = await AsyncStorage.getItem(key)\r\n  return jsonValue != null ? JSON.parse(jsonValue) : null;\r\n} catch(e) {\r\n  // error reading value\r\n  console.log('Error: Search.js->'+e.message)\r\n}\r\n}\r\n \r\nconst Search = ({ navigation }) => {\r\n  const [SearchParam, setSearchParams] = useState('Type')\r\n\r\n  return (\r\n    SearchParam != 'Type' ?\r\n      (\r\n        <Tab.Navigator tabBar={(props) => <SearchBottom {...props}/>}>\r\n          <Tab.Screen options={{ headerShown: false }} name=\"SearchHotel\" component={SearchHotel} />\r\n          <Tab.Screen options={{\r\n            headerShown: false\r\n          }} name=\"SearchDeal\" component={SearchDeals} />\r\n\r\n        </Tab.Navigator>\r\n      ) :\r\n      (\r\n        <Hotels\r\n          SearchParam={SearchParam}\r\n          setSearchParams={setSearchParams}\r\n          navigation={navigation}\r\n        />\r\n      )\r\n  )\r\n}\r\n\r\nexport default Search\r\n\r\nconst Hotels = (props) => {\r\n  const recent = useSelector(state => state.recentSearch)\r\n  const brands = useSelector(state => state.brands)\r\n  const deals = useSelector(state => state.deals)\r\n  const [search, setSearch] = React.useState('')\r\n  const [data,setData] = React.useState(null)\r\n  React.useEffect(()=>{\r\n    getData('search').then((data) => {\r\n      if(Array.isArray(data)){\r\n        setData(data)\r\n      }else{\r\n        setData([])\r\n      }\r\n    })\r\n  },[])\r\n  return (\r\n    <ScrollView>\r\n      <View style={{\r\n        backgroundColor: \"#FA454B\", width: '100%', minHeight: 100,\r\n        justifyContent: 'space-between', flexDirection: 'row', alignItems: 'center',\r\n        paddingLeft: 10, paddingRight: 10, paddingTop: Platform.OS == 'ios' ? 40 : 0\r\n      }}>\r\n        <View style={{\r\n          width: '90%', backgroundColor: 'white', height: 50,\r\n          borderRadius: 50,\r\n          flexDirection: 'row', justifyContent: 'center', alignItems: 'center'\r\n        }}>\r\n\r\n\r\n          <TextInput value={search} onChangeText={setSearch} style={{ flex: 5, paddingLeft: 20 }}\r\n            placeholder=\"Search\" placeholderTextColor={'rgb(130,130,130)'} />\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              const get=getData('search').then((data) => {\r\n                if(data){\r\n                let arr = data;\r\n                arr.push(search);\r\n                  storeData('search', arr).catch(err=>{\r\n                    console.log('Error: Search.js->'+err.message);\r\n                  })\r\n              }else{\r\n                let arr = [];\r\n                arr.push(search);\r\n                storeData('search', arr).catch(err => {\r\n                  console.log('Error: Search.js->'+err.message)\r\n                })\r\n              }\r\n              })\r\n              if (props.SearchParam === 'Hotels') {\r\n                props.setSearchParams('Deals')\r\n              } else {\r\n                props.setSearchParams('Hotels')\r\n              }\r\n            }}\r\n            style={{\r\n              flex: 2, backgroundColor: 'rgb(220,220,220)', height: '100%',\r\n              borderTopRightRadius: 30, borderBottomRightRadius: 30, justifyContent: 'center', alignItems: 'center'\r\n            }}>\r\n            <Text style={{ color: 'rgb(130,130,130)', }}>{props.SearchParam}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <TouchableOpacity onPress={() => {\r\n          props.navigation.goBack()\r\n        }} style={{ width: '10%', alignItems: 'flex-end' }}>\r\n          <MaterialIcons name=\"close\" size={24} color=\"white\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <View style={{ paddingLeft: 20, paddingRight: 20, paddingTop: 20, paddingBottom: 10 }}>\r\n        <Text style={{ fontWeight: 'bold', fontSize: 18 }}>Recent</Text>\r\n      </View>\r\n      <View style={{ flexDirection: 'row', flexWrap: 'wrap', paddingLeft: 10, paddingRight: 10 }}>\r\n        {\r\n          data?(\r\n            data.slice(Math.max(data.length - 7, 0)).map((doc,i) => {\r\n            return (\r\n              <TouchableOpacity onPress={() => {\r\n                setSearch(doc)\r\n              }} key={i} style={{\r\n                borderColor: 'rgb(200,200,200)', borderWidth: 1, paddingLeft: 20,\r\n                paddingRight: 20, paddingTop: 10, paddingBottom: 10, borderRadius: 20,\r\n                margin: 3.5\r\n              }}>\r\n                <Text style={{ color: 'rgb(130,130,130)' }}>{doc}</Text>\r\n              </TouchableOpacity>\r\n            );\r\n          })\r\n          ):(\r\n            <ActivityIndicator size=\"large\" color=\"#FA454B\" />\r\n          )\r\n        }\r\n      </View>\r\n      <LinearGradient style={{ width: '100%', marginTop: 15, flexDirection: 'column' }}\r\n        colors={['#E00006', '#FB8B97']}\r\n        start={[0, 1]} end={[1, 0]}\r\n      >\r\n        <View style={{ flex: 1, justifyContent: 'center', paddingLeft: 20, paddingTop: 20, paddingBottom: 8 }}>\r\n          <View>\r\n            <Text style={{ color: 'white', fontSize: 18, fontWeight: 'bold' }}>Save on top brands</Text>\r\n            <Text style={{ color: 'white', marginTop: 5, }}>Save big on most popular brands with us</Text>\r\n          </View>\r\n        </View>\r\n        <ScrollView style={{ flex: 3, marginBottom: 10 }} horizontal={true}>\r\n          <View style={{ width: 10 }}></View>\r\n          {\r\n            brands ? (\r\n              brands.map(brand => {\r\n                return (\r\n                  <Brands key={brand.id} data={brand} img={brand.image} />\r\n                );\r\n              })\r\n            ) : (\r\n              <ActivityIndicator size=\"large\" color=\"#FA454B\" />\r\n            )\r\n          }\r\n        </ScrollView>\r\n      </LinearGradient>\r\n      <View>\r\n        <Text style={{ fontWeight: 'bold', fontSize: 18, marginTop: 20, marginBottom: 10, marginLeft: 20, marginRight: 20 }}>Your Deals</Text>\r\n        <ScrollView horizontal={true} >\r\n          <View style={{ width: 10 }}></View>\r\n          {\r\n            deals ? (\r\n              deals.map(d => (\r\n                <SmallDealCart key={d.deal.id} icon={d.brand.image}\r\n                  img={d.deal.image}\r\n                  title={d.deal.name}\r\n                />\r\n              ))\r\n            ) : (\r\n              <ActivityIndicator size=\"large\" color=\"#FA454B\" />\r\n            )\r\n          }\r\n\r\n        </ScrollView>\r\n      </View>\r\n    </ScrollView>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}